(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{54:function(t,e,n){},64:function(t,e,n){},65:function(t,e,n){},69:function(t,e,n){"use strict";n.r(e);var a=n(0),s=n(30),c=n.n(s),i=n(10),o=n(11),r=n(8),u=n(13),h=n(12),l=n(2),d=n(16),j=n.n(d),b=n(31),m=(n(54),n(1)),p=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).state={username:"",password:""},a.handleSubmit=a.handleSubmit.bind(Object(r.a)(a)),a.handleChange=a.handleChange.bind(Object(r.a)(a)),a}return Object(o.a)(n,[{key:"handleSubmit",value:function(){var t=this,e=this.state,n=e.username,a=e.password;j.a.post("".concat("http://ec2-3-39-25-155.ap-northeast-2.compute.amazonaws.com","/signin"),{username:n,password:a},{withCredentials:!0}).then((function(e){localStorage.setItem("accessToken",e.data),t.props.handleStatus()})).catch((function(e){t.setState({username:"",password:""}),401===e.response.status&&alert("\uc774\ub984\uacfc \ube44\ubc00\ubc88\ud638\ub97c \uc815\ud655\ud788 \uc785\ub825\ud574\uc8fc\uc138\uc694!")}))}},{key:"handleChange",value:function(t){this.setState(Object(b.a)({},t.target.name,t.target.value))}},{key:"render",value:function(){return Object(m.jsx)("div",{className:"form-container",children:Object(m.jsxs)("form",{className:"form-items",onSubmit:function(t){return t.preventDefault()},children:[Object(m.jsx)("div",{className:"login",children:"Login"}),Object(m.jsx)("input",{type:"text",name:"username",placeholder:"\uc774\ub984",value:this.state.username,onChange:this.handleChange}),Object(m.jsx)("input",{type:"password",name:"password",placeholder:"\ube44\ubc00\ubc88\ud638",value:this.state.password,onChange:this.handleChange}),Object(m.jsx)("button",{type:"submit",onClick:this.handleSubmit,children:"\ub85c\uadf8\uc778"})]})})}}]),n}(a.Component),g=Object(l.g)(p),O=(n(64),function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).handleLogout=a.handleLogout.bind(Object(r.a)(a)),a}return Object(o.a)(n,[{key:"handleLogout",value:function(){localStorage.removeItem("accessToken"),this.props.changeLoginStatus()}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"main-container",children:[Object(m.jsx)("div",{className:"session",children:"\uc815\ub2f5\uc740 \ub178\ud2b8\ubd81\uc785\ub2c8\ub2e4"}),Object(m.jsx)("div",{className:"db",children:"\uc720\uc5b4\ud074\ub798\uc2a4\ub85c \ub3cc\uc544\uac00 \ud034\uc988\ub97c \ud480\uc5b4\uc8fc\uc138\uc694"}),Object(m.jsx)("button",{type:"submit",onClick:this.handleLogout,children:"\ub85c\uadf8\uc544\uc6c3"})]})}}]),n}(a.Component)),v=(n(65),function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).state={isLogin:!1,status:""},a.handleStatus=a.handleStatus.bind(Object(r.a)(a)),a.changeLoginStatus=a.changeLoginStatus.bind(Object(r.a)(a)),a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.handleStatus()}},{key:"handleStatus",value:function(){var t=this;j.a.get("".concat("http://ec2-3-39-25-155.ap-northeast-2.compute.amazonaws.com","/status"),{withCredentials:!0,headers:{Authorization:"Bearer ".concat(localStorage.getItem("accessToken"))}}).then((function(e){t.setState({isLogin:e.data.isLogin,status:e.data.isConnectedToDatabase},(function(){console.log("\uc2dc\uc791"),t.props.history.push("/")}))})).catch((function(t){return console.log(t)}))}},{key:"changeLoginStatus",value:function(){var t=this;this.setState({isLogin:!1,status:""},(function(){t.props.history.push("/")}))}},{key:"render",value:function(){var t=this,e=this.state,n=e.isLogin,a=e.status;return Object(m.jsx)("div",{className:"app",children:Object(m.jsxs)("div",{className:"container",children:[n?Object(m.jsx)("div",{className:"success",children:"\ub85c\uadf8\uc778\uc5d0 \uc131\uacf5\ud588\uc2b5\ub2c8\ub2e4"}):Object(m.jsx)("div",{className:"status",children:"\uc774\ub984\uc5d0\ub294 \uae40\ucf54\ub529,\ube44\ubc00\ubc88\ud638\uc5d0\ub294 1234\ub9cc \uc785\ub825 \uac00\ub2a5\ud569\ub2c8\ub2e4"}),n?a?Object(m.jsx)("div",{className:"success",children:"\ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc5f0\uacb0\uc5d0 \uc131\uacf5\ud588\uc2b5\ub2c8\ub2e4"}):Object(m.jsx)("div",{className:"fail",children:"\ud558\uc9c0\ub9cc, \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc5f0\uacb0\uc774 \ud544\uc694\ud569\ub2c8\ub2e4"}):"",Object(m.jsxs)(l.d,{children:[Object(m.jsx)(l.b,{exact:!0,path:"/main",render:function(){return Object(m.jsx)(O,{changeLoginStatus:t.changeLoginStatus})}}),Object(m.jsx)(l.b,{exact:!0,path:"/login",render:function(){return Object(m.jsx)(g,{handleStatus:t.handleStatus})}}),Object(m.jsx)(l.b,{path:"/",render:function(){return n?Object(m.jsx)(l.a,{to:"/main"}):Object(m.jsx)(l.a,{to:"/login"})}})]})]})})}}]),n}(a.Component)),f=Object(l.g)(v),x=n(15);n(66).config(),c.a.render(Object(m.jsx)(x.a,{children:Object(m.jsx)(f,{})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.200ae2c4.chunk.js.map